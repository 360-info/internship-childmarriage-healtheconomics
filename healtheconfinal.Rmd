---
title: "healthecon"
author: "Ambalika"
date: "2023-04-12"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r package}

library(readr)
library(readxl)
library(janitor)
library(tidyverse)
library(rnaturalearth)
library(ggplot2)
library(plotly)
library(themes360info)
library(rio)

```

```{r read data}
# Reading HDI data

hdi <- read_csv("data/healtheconomics/hdi_timeseries.csv")

hdi <- hdi %>% 
  pivot_longer(
    cols = 6:37,
    names_to = "year",
    values_to = "HDI"
  )

hdi <- hdi %>% 
  select(c(-region, -hdicode, -hdi_rank_2021)) %>% 
  mutate(year = str_remove_all(year, "hdi_")) %>% 
  mutate(year = as.numeric(year)) %>% 
  filter(year > 2014)

# Reading WHR(World Happiness Record) data

whr <- read_excel("data/healtheconomics/wellbeing-otherfactos.xls")

whr <- whr %>% 
  clean_names() %>% 
  mutate(WHR = life_ladder/10)

# Comparison data

comparison <- whr %>% 
  left_join(hdi, by = c("country_name" = "country", "year"))

comparison <- merge(whr, hdi, by.x = c("country_name", "year"), by.y = c("country", "year")) %>% 
  select(country_name, year, 13:15)

comparison <- comparison %>% 
  pivot_longer(cols = c(3,5),
               names_to = "organisation",
               values_to = "score")

```

```{r countrywise}

india <- comparison %>%
  filter(country_name == "India")

ggplot(data = india,
       aes(x = year,
           y = score,
           color = organisation)) +
  geom_line() +
  geom_point() +
  theme(legend.position = "top") +
  theme_360() 


```

















































